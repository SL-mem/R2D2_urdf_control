<?xml version="1.0"?>
<robot name="r2d2">

    <material name="blue">
        <color rgba="0 0 0.8 1"/>
    </material>
    <material name="red">
        <color rgba="0.8 0 0 1"/>
    </material>
    <material name="green">
        <color rgba="0 0.8 0 1"/>
    </material>
    <material name="black">
        <color rgba="0 0 0 1"/>
    </material>
    <material name="white">
        <color rgba="1 1 1 1"/>
    </material>


    <gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
            <robotNamespace>/r2d2</robotNamespace>
        </plugin>
    </gazebo>

    <link name="base_link">
    </link>


    <link name="center_wheel_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 1.5707 0" />
            <geometry>
                <cylinder radius="0.05" length="0.13"/>
            </geometry>
            <material name="red"/>
        </visual>

	    <inertial>
            <origin xyz="0 0 0" rpy="0 1.5707 0"/>
            <mass value="1" />
            <inertia ixx="2.0333333e-3" ixy="0.0" ixz="0.0" iyy="2.0333333e-3" iyz="0.0" izz="1.25e-3"/>
        </inertial>

        <collision>
            <origin xyz="0 0 0" rpy="0 1.5707 0"/>
            <geometry>
                <cylinder radius="0.05" length="0.13"/>
            </geometry>
        </collision>

	</link>


    <gazebo reference="center_wheel_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/Gray</material>
        <selfCollide>true</selfCollide>
    </gazebo>


    <joint name="ceter_wheel_joint" type="fixed">
        <parent link="base_link"/>
        <child link="center_foot_link"/>
        <origin xyz="0 0 0" rpy="0 0 0"/>
    </joint>


    <link name="center_foot_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/center_foot.dae"/>
            </geometry>
            <material name="red"/>
        </visual>

	    <inertial>
            <origin xyz="0 0 0.07" rpy="0 0 0"/>
            <mass value="2" />
            <inertia ixx="1.479683e-2" ixy="0.0" ixz="0.0" iyy="8.66666666e-3" iyz="0.0" izz="1.69281666e-2"/>
        </inertial>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/center_foot.dae"/>
            </geometry>
        </collision>
    </link>


    <gazebo reference="center_foot_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/Blue</material>
        <selfCollide>true</selfCollide>
    </gazebo>
    

    <joint name="roll_joint" type="continuous">
    	<parent link="center_foot_link"/>
    	<child link="center_wheel_link"/>
        <origin xyz="0 0 0.025" rpy="0 0 0"/>
        <axis xyz="1 0 0"/>
	</joint>

    <transmission name="roll_joint_transmission">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="roll_joint">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
        <actuator name="roll_motor">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
            <mechanicalReduction>1.0</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="center_leg_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/center_leg.dae"/>
            </geometry>
            <material name="red"/>
        </visual>

	    <inertial>
            <origin xyz="0 0 0.205" rpy="0 0 0"/>
            <mass value="1" />
             <inertia ixx="4.489e-3" ixy="0.0" ixz="0.0" iyy="4.489e-3" iyz="0.0" izz="2.312e-3"/>
        </inertial>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/center_leg.dae"/>
            </geometry>
        </collision>
    </link>


    <gazebo reference="center_leg_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/White</material>
        <selfCollide>true</selfCollide>
    </gazebo>


    <joint name="incline_joint" type="revolute">
    	<parent link="center_foot_link"/>
    	<child link="center_leg_link"/>
    	<origin xyz="0 0 0" rpy="-0.3 0 0"/>
        <limit lower="-0.4" upper="1.0" effort="500.0" velocity="0.1"/>
        <dynamics damping="0.1" friction="0.2"/>
        <axis xyz="1 0 0"/>
	</joint> 

    
    <transmission name="incline_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="incline_joint">
        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="incline_motor">
        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        <mechanicalReduction>1.0</mechanicalReduction>
    </actuator>
    </transmission>

    <link name="cylinder_link">
		<visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/body_long.dae"/>
            </geometry>
            <material name="red"/>
        </visual>

	    <inertial>
            <origin xyz="0 0 -0.08" rpy="0 0 0"/>
            <mass value="7" />
            <inertia ixx="1.867e-1" ixy="0.0" ixz="0.0" iyy="1.867e-1" iyz="0.0" izz="1.867e-1"/>
        </inertial>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/body_long.dae"/>
            </geometry>
        </collision>
	</link>


    <gazebo reference="cylinder_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/White</material>
        <selfCollide>true</selfCollide>
    </gazebo>

    <joint name="base_cylinder_joint" type="prismatic">
    	<parent link="center_leg_link"/>
    	<child link="cylinder_link"/>
    	<origin xyz="0 0 0.20" rpy="3.14 0 0"/>
        <limit lower="-0.1" upper="0.0" effort="1000.0" velocity="0.01"/>
        <dynamics damping="0.1" friction="0.2"/>
        <axis xyz="0 0 1"/>
	</joint>

    <transmission name="trans_base_cylinder">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="base_cylinder_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor_base_cylinder">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="head_link">
		<visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/head_r2d2_scale_0_0009.dae"/>
            </geometry>
            <material name="red"/>
        </visual>

 	    <inertial>
            <origin xyz="0 0 -0.01" rpy="0 0 0"/>
            <mass value="1" />
            <inertia ixx="1.66735e-2" ixy="0.0" ixz="0.0" iyy="1.66735e-2" iyz="0.0" izz="2.66805e-2"/>
        </inertial>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/head_r2d2_scale_0_0009.dae"/>
            </geometry>
        </collision>
	</link>

    <gazebo reference="head_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/Blue</material>
        <selfCollide>true</selfCollide>
    </gazebo>


    <joint name="base_head_joint" type="revolute">
    	<parent link="cylinder_link"/>
    	<child link="head_link"/>
    	<origin xyz="0 0 -0.38" rpy="0 0 0"/>
        <limit lower="0" upper="3.14" effort="1.1" velocity="1.005"/>
        <dynamics damping="0.1" friction="0.2"/>
        <axis xyz="0 0 1"/>
	</joint>


    <transmission name="trans_base_head">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="base_head_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor_base_head">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="shoulder1_link">
        <visual>
            <origin xyz="0.22 0 0" rpy="0 1.5707 0"/>
            <geometry>
                <cylinder radius="0.07" length="0.035"/>
            </geometry>
            <material name="red"/>
        </visual>
        <inertial>
            <origin xyz="0.22 0 0.0" rpy="0 1.570 0"/>
            <mass value="1" />
           <inertia ixx="1.327083e-3" ixy="0.0" ixz="0.0" iyy="1.327083e-3" iyz="0.0" izz="2.45e-3"/>
        </inertial>
        <collision>
            <origin xyz="0.22 0 0" rpy="0 1.5707 0"/>
            <geometry>
                <cylinder radius="0.07" length="0.035"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="shoulder1_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/Blue</material>
        <selfCollide>true</selfCollide>
    </gazebo>

    <joint name="shoulder1_joint" type="revolute">
    	<parent link="cylinder_link"/>
    	<child link="shoulder1_link"/>
    	<origin xyz="0 0 -0.2" rpy="0.7 0 0"/>
        <limit lower="-1.41" upper="0.01" effort="100" velocity="0.5"/>
        <dynamics damping="0.1" friction="0.2"/>
        <axis xyz="1 0 0"/>
	</joint>

    <transmission name="shoulder1_transmission">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="shoulder1_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor_shoulder1">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="upper_arm1_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/upper_arm_long.dae"/>
            </geometry>
            <material name="red"/>
        </visual>

        <inertial>
            <origin xyz="0.22 0 0" rpy="0 0 0"/>
            <mass value="1" />
            <inertia ixx="1.24e-3" ixy="0.0" ixz="0.0" iyy="0.94e-3" iyz="0.0" izz="5.10e-4"/>
        </inertial>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/upper_arm_long.dae"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="upper_arm1_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/White</material>
        <selfCollide>true</selfCollide>
    </gazebo>

    <joint name="arm1_joint" type="fixed">
    	<parent link="shoulder1_link"/>
    	<child link="upper_arm1_link"/>
    	<origin xyz="0 -0.005 0.23" rpy="0 0 0"/>
	</joint>

    <link name="lower_arm1_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/lower_arm_long.dae"/>
            </geometry>
            <material name="red"/>
        </visual>

        <inertial>
            <origin xyz="0.22 0 -0.3" rpy="0 0 0"/>
            <mass value="1" />
            <inertia ixx="3.63e-3" ixy="0.0" ixz="0.0" iyy="3.44e-3" iyz="0.0" izz="4.020e-4"/>
        </inertial>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/lower_arm_long.dae"/>
            </geometry>
        </collision>
    </link>


    <gazebo reference="lower_arm1_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/White</material>
        <selfCollide>true</selfCollide>
    </gazebo>


    <joint name="coude1_joint" type="prismatic">
    	<parent link="upper_arm1_link"/>
    	<child link="lower_arm1_link"/>
    	<origin xyz="0 0 0.3" rpy="0 0 0"/>
        <limit lower="0" upper="0.1" effort="500.0" velocity="0.01"/>
        <dynamics damping="0.1" friction="0.2"/>
        <axis xyz="0 0 1"/>
	</joint>

    <transmission name="coude1_transmission">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="coude1_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor_coude1">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="wheel_arm1_link">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/wheel_arm.dae"/>
            </geometry>
            <material name="red"/>
        </visual>
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="1" />
            <inertia ixx="0.001128125" ixy="0.0" ixz="0.0" iyy="0.001128125" iyz="0.0" izz="0.0005828125"/>
        </inertial>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/wheel_arm.dae"/>
            </geometry>
        </collision>
    </link>


    <gazebo reference="wheel_arm1_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/Gray</material>
        <selfCollide>true</selfCollide>
    </gazebo>


    <joint name="wheel_arm1_joint" type="continuous">
    	<parent link="lower_arm1_link"/>
    	<child link="wheel_arm1_link"/>
        <origin xyz="0.225 0.005 -0.16" rpy="0 0 0"/>
        <axis xyz="1 0 0"/>
	</joint>
    
     <transmission name="wheel_transmission1">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="wheel_arm1_joint">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor_wheel1">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
            <mechanicalReduction>1.0</mechanicalReduction>
        </actuator>
    </transmission>
    

    <link name="shoulder2_link">
        <visual>
            <origin xyz="-0.22 0 0" rpy="0 1.5707 0"/>
            <geometry>
                <cylinder radius="0.07" length="0.035"/>
            </geometry>
            <material name="red"/>
        </visual>
        <inertial>
            <origin xyz="-0.22 0 0.0" rpy="0 1.570 0"/>
            <mass value="1" />
           <inertia ixx="1.327083e-3" ixy="0.0" ixz="0.0" iyy="1.327083e-3" iyz="0.0" izz="2.45e-3"/>
        </inertial>
        <collision>
            <origin xyz="-0.22 0 0" rpy="0 1.5707 0"/>
            <geometry>
                <cylinder radius="0.07" length="0.035"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="shoulder2_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/Blue</material>
        <selfCollide>true</selfCollide>
    </gazebo>

    <joint name="shoulder2_joint" type="revolute">
    	<parent link="cylinder_link"/>
    	<child link="shoulder2_link"/>
    	<origin xyz="0 0 -0.2" rpy="0.7 0 0"/>
        <limit lower="-1.41" upper="0.01" effort="100" velocity="0.5"/>
        <dynamics damping="0.1" friction="0.2"/>
        <axis xyz="1 0 0"/>
	</joint>

    <transmission name="shoulder2_transmission">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="shoulder2_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor_shoulder2">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="upper_arm2_link">
        <visual>
            <origin xyz="-0.445 0 0" rpy="0 0 0" />
            <geometry>
                <mesh filename="package://r2d2_description/models/upper_arm_long.dae"/>
            </geometry>
            <material name="red"/>
        </visual>
        <inertial>
            <origin xyz="-0.22 0 0" rpy="0 0 0"/>
            <mass value="1" />
            <inertia ixx="1.24e-3" ixy="0.0" ixz="0.0" iyy="0.94e-3" iyz="0.0" izz="5.10e-4"/>
        </inertial>
        <collision>
            <origin xyz="-0.445 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/upper_arm_long.dae"/>
            </geometry>
        </collision>
    </link>


    <gazebo reference="upper_arm2_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/White</material>
        <selfCollide>true</selfCollide>
    </gazebo>


    <joint name="arm2_joint" type="fixed">
    	<parent link="shoulder2_link"/>
    	<child link="upper_arm2_link"/>
    	<origin xyz="0 -0.005 0.23" rpy="0 0 0"/>
	</joint>
    
    <link name="lower_arm2_link">
        <visual>
            <origin xyz="-0.445 0 0" rpy="0 0 0" />
            <geometry>
                <mesh filename="package://r2d2_description/models/lower_arm_long.dae"/>
            </geometry>
            <material name="red"/>
        </visual>
        <inertial>
            <origin xyz="-0.22 0 -0.3" rpy="0 0 0"/>
            <mass value="1" />
            <inertia ixx="3.63e-3" ixy="0.0" ixz="0.0" iyy="3.44e-3" iyz="0.0" izz="4.020e-4"/>
        </inertial>
        <collision>
            <origin xyz="-0.445 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/lower_arm_long.dae"/>
            </geometry>
        </collision>
    </link>


    <gazebo reference="lower_arm2_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/White</material>
        <selfCollide>true</selfCollide>
    </gazebo>


    <joint name="coude2_joint" type="prismatic">
    	<parent link="upper_arm2_link"/>
    	<child link="lower_arm2_link"/>
    	<origin xyz="0 0 0.3" rpy="0 0 0"/>
        <limit lower="0" upper="0.1" effort="500.0" velocity="0.01"/>
        <dynamics damping="0.1" friction="0.2"/>
        <axis xyz="0 0 1"/>
	</joint>

    <transmission name="coude2_transmission">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="coude2_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor_coude2">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>100</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="wheel_arm2_link">
        <visual>
            <origin xyz="-0.445 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/wheel_arm.dae"/>
            </geometry>
            <material name="red"/>
        </visual>
         <inertial>
            <origin xyz="-0.445 0 0" rpy="0 0 0"/>
            <mass value="1" />
            <inertia ixx="0.001128125" ixy="0.0" ixz="0.0" iyy="0.001128125" iyz="0.0" izz="0.0005828125"/>
        </inertial>
        <collision>
            <origin xyz="-0.445 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://r2d2_description/models/wheel_arm.dae"/>
            </geometry>
        </collision>
    </link>


    <gazebo reference="wheel_arm2_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>
        <material>Gazebo/Gray</material>
        <selfCollide>true</selfCollide>
    </gazebo>


    <joint name="wheel_arm2_joint" type="continuous">
    	<parent link="lower_arm2_link"/>
    	<child link="wheel_arm2_link"/>
        <origin xyz="0.225 0.005 -0.16" rpy="0 0 0"/>
        <axis xyz="1 0 0"/>
	</joint>
    
     <transmission name="wheel_transmission2">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="wheel_arm2_joint">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor_wheel2">
            <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
            <mechanicalReduction>1.0</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="camera_link">
		<visual>
            <origin xyz="0 0 0" rpy="0.0 0 0" />
            <geometry>
                <cylinder radius="0.00525" length="0.00525"/>
            </geometry>
            <material name="red"/>
        </visual>
	</link>

    <joint name="head_camera_joint" type="revolute">
        <parent link="head_link"/>
        <child link="camera_link"/>
        <origin xyz="0 0.057 0.0255" rpy="0 0 0"/>
        <limit lower="-0.2" upper="0.2" effort="0.1" velocity="0.005"/>
        <dynamics damping="0.1" friction="0.2"/>
        <axis xyz="0 0 1"/>
    </joint> 

</robot>